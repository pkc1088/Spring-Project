- **Spring05 - Message**
    - *메시지*
        - 여러 화면에 보이는 상품명, 가격, 수량 등, label 에 있는 단어를 변경하려면 다음 화면들을 다 찾아가면서 모두 변경 해야 한다. 왜냐하면 해당 HTML 파일에 메시지가 하드코딩 되어 있기 때문이다.
        - 이런 다양한 메시지를 한 곳에서 관리하도록 하는 기능을 Message 기능이라 한다. 예를 들어서 messages.properties 라는 메시지 관리용 파일을 만들고 각 HTML들은 다음과 같이 해당 데이터를 key 값으로 불러서 사용하는 것이다.
        - 스프링은 기본적인 메시지와 국제화 기능을 모두 제공한다. 그리고 타임리프도 스프링이 제공하는 메시지와 국제화 기능을 편리하게 통합해서 제공한다
        - 타임리프의 메시지 표현식 #{...} 를 사용하면 스프링의 메시지를 편리하게 조회할 수 있다.
            - 방금 등록한 상품이라는 이름을 조회하려면 #{label.item} 이라고 하면 된다
        - 참고로 파라미터는 다음과 같이 사용할 수 있다.
            - hello.name=안녕 {0}
            - < p th:text="#{hello.name(${item.itemName})}"></p >
    - *국제화*
        - 메시지에서 설명한 메시지 파일( messages.properties )을 각 나라별로 별도로 관리하면 서비스를 국제화 할 수 있다.
        - 한국에서 접근한 것인지 영어에서 접근한 것인지는 인식하는 방법은 HTTP accept-language 해더 값을 사용하거 나 사용자가 직접 언어를 선택하도록 하고, 쿠키 등을 사용해서 처리하면 된다
        - 크롬 설정 언어를 영어로 바꾸면 스프링부트에서 알아서 message_en.properties의 메시지로 맵핑시켜준다
        - 스프링은 Locale 선택 방식을 변경할 수 있도록 LocaleResolver 라는 인터페이스를 제공하는데, 스프링 부트는 기본으로 Accept-Language 를 활용하는 AcceptHeaderLocaleResolver 를 사용한다.
            - 만약 Locale 선택 방식을 변경하려면 LocaleResolver 의 구현체를 변경해서 쿠키나 세션 기반의 Locale 선택 기능을 사용할 수 있다. 예를 들어서 고객이 직접 Locale 을 선택하도록 하는 것
    - 인텔리제이에서 한글 깨짐이 발생하면 Setting - File Encodings로 이동하자. Default encoding for properties files 를 ISO-8859-1 에서 UTF-8 로 변경하자. Transparent native-to-ascil conversion 체크하자. (통함)
        - 추가로 난 제어판>시계및국가>국가또는지역>관리자옵션>시스템로캘변경>Beta:세계언어지원을위해UnicodeUTF-8사용을 체크해줬다.
            - (안 통했음)